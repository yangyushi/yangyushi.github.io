<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Javascript</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/styles/github-gist.css">
    <script src="https://unpkg.com/lunr/lunr.js"></script>

    <script src="/assets/js/toc.js"></script>
    <script src="/assets/js/highlight.pack.js"></script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    </head>

  <body>
    <script>hljs.initHighlightingOnLoad();</script>

    <div class="main">
        <p><a href="/" id="backToHomeButton">Home</a></p>

<div id="side_bar">
    22 Jul 2017
</div>

<div class="center post">
    <ul id="markdown-toc">
  <li><a href="#javascript-简介" id="markdown-toc-javascript-简介">Javascript 简介</a></li>
  <li><a href="#基本语法" id="markdown-toc-基本语法">基本语法</a>    <ul>
      <li><a href="#变量" id="markdown-toc-变量">变量</a></li>
      <li><a href="#数据类型" id="markdown-toc-数据类型">数据类型</a></li>
      <li><a href="#运算符" id="markdown-toc-运算符">运算符</a></li>
      <li><a href="#逻辑控制语句" id="markdown-toc-逻辑控制语句">逻辑控制语句</a></li>
      <li><a href="#函数" id="markdown-toc-函数">函数</a></li>
    </ul>
  </li>
  <li><a href="#事件" id="markdown-toc-事件">事件</a>    <ul>
      <li><a href="#常用事件" id="markdown-toc-常用事件">常用事件</a></li>
      <li><a href="#例子" id="markdown-toc-例子">例子</a></li>
    </ul>
  </li>
  <li><a href="#对象" id="markdown-toc-对象">对象</a>    <ul>
      <li><a href="#创建对象" id="markdown-toc-创建对象">创建对象</a></li>
      <li><a href="#访问对象的属性和方法" id="markdown-toc-访问对象的属性和方法">访问对象的属性和方法</a></li>
      <li><a href="#string-字符串对象" id="markdown-toc-string-字符串对象">String 字符串对象</a></li>
      <li><a href="#math-对象" id="markdown-toc-math-对象">Math 对象</a></li>
      <li><a href="#array-数组对象" id="markdown-toc-array-数组对象">Array 数组对象</a></li>
    </ul>
  </li>
  <li><a href="#dom" id="markdown-toc-dom">DOM</a>    <ul>
      <li><a href="#基本概念" id="markdown-toc-基本概念">基本概念</a>        <ul>
          <li><a href="#什么是-dom" id="markdown-toc-什么是-dom">什么是 DOM</a></li>
          <li><a href="#节点" id="markdown-toc-节点">节点</a></li>
        </ul>
      </li>
      <li><a href="#选取文档元素" id="markdown-toc-选取文档元素">选取文档元素</a>        <ul>
          <li><a href="#通过-id-选取元素" id="markdown-toc-通过-id-选取元素">通过 ID 选取元素</a></li>
          <li><a href="#通过名字name或标签名tagname选取元素" id="markdown-toc-通过名字name或标签名tagname选取元素">通过名字（Name）或标签名（TagName）选取元素</a></li>
        </ul>
      </li>
      <li><a href="#节点属性操作和文档遍历" id="markdown-toc-节点属性操作和文档遍历">节点、属性操作和文档遍历</a>        <ul>
          <li><a href="#查询和设置元素的属性" id="markdown-toc-查询和设置元素的属性">查询和设置元素的属性</a></li>
          <li><a href="#父节点" id="markdown-toc-父节点">父节点</a></li>
          <li><a href="#创建和插入节点" id="markdown-toc-创建和插入节点">创建和插入节点</a></li>
          <li><a href="#删除节点" id="markdown-toc-删除节点">删除节点</a></li>
        </ul>
      </li>
      <li><a href="#作业" id="markdown-toc-作业">作业</a></li>
    </ul>
  </li>
</ul>

<h2 id="javascript-简介">Javascript 简介</h2>

<p>JavaScript 是一种脚本语言，它的解释器被称为 JavaScript 引擎。 JavaScript 被发明用于在 HTML 网页上使用，给HTML网页增加动态功能。</p>

<p>下面是一个 Hello World 例子：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;script&gt;</span>
<span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello world!</span><span class="dl">"</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
<p>这段代码的效果是，弹出一个小框，显示“hello world!”。</p>

<p>JavaScript 代码可以放在下面的位置：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">body</code> 中的 <code class="language-plaintext highlighter-rouge">&lt;script&gt;……&lt;/script&gt;</code> 标签</li>
  <li><code class="language-plaintext highlighter-rouge">head</code> 中的 <code class="language-plaintext highlighter-rouge">&lt;script&gt;……&lt;/script&gt;</code> 标签</li>
  <li>单独存储为一个 <code class="language-plaintext highlighter-rouge">.js</code> 文件，在 HTML 页面中调用: <code class="language-plaintext highlighter-rouge">&lt;script src="file.js"&gt;&lt;/script&gt;</code></li>
</ul>

<p>不同位置的效果如下：</p>

<ul>
  <li>在 <code class="language-plaintext highlighter-rouge">head</code> 里的代码，会在页面还未开始绘制之前被解析，</li>
  <li>在 <code class="language-plaintext highlighter-rouge">body</code> 里的代码，会在渲染到这段代码的时候，才被执行。</li>
  <li>把 JavaScript 代码放到外部文件，只有在需要的时候才执行，会明显地加快页面加载速度。</li>
</ul>

<h2 id="基本语法">基本语法</h2>

<h3 id="变量">变量</h3>

<p>在 JavaScript 中，变量可以用 var 命令做声明</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">foo</span> <span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">bar</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<p>or not …</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">i</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="nx">s</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">b</span> <span class="o">=</span> <span class="nx">True</span><span class="p">;</span>
<span class="nx">lst</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">b</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">c</span><span class="dl">"</span><span class="p">];</span>
</code></pre></div></div>

<h3 id="数据类型">数据类型</h3>

<p><strong>字符串</strong>可以使用单引号或双引号，也可以在字符串中使用引号：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">s1</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">foo</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">s2</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">s3</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">foo('bar')</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">s4</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">foo("bar")</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>

<p>JavaScript 只有一种<strong>数字</strong>类型。数字可以带小数点，也可以不带：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">x1</span> <span class="o">=</span> <span class="mf">34.00</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">x2</span> <span class="o">=</span> <span class="mi">34</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>布尔</strong>类型只能有两个值：true 或 false：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kc">true</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="kc">false</span>
</code></pre></div></div>

<p><strong>数组</strong>可以被用来存储变量：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">boys</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">();</span>
<span class="nx">boys</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">Tom</span><span class="dl">"</span><span class="s2">;
boys[1] = Jack</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">boys</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">Alex</span><span class="dl">"</span><span class="s2">;

var grils = new Array(</span><span class="dl">"</span><span class="nx">Rita</span><span class="dl">"</span><span class="s2">,</span><span class="dl">"</span><span class="nx">Erica</span><span class="dl">"</span><span class="s2">,</span><span class="dl">"</span><span class="nx">Mary</span><span class="dl">"</span><span class="s2">);

var dogs = [</span><span class="dl">"</span><span class="nx">scratchy</span><span class="dl">"</span><span class="s2">, </span><span class="dl">"</span><span class="nx">jumpy</span><span class="dl">"</span><span class="s2">, </span><span class="dl">"</span><span class="nx">spiky</span><span class="dl">"</span><span class="s2">];
</span></code></pre></div></div>

<h3 id="运算符">运算符</h3>

<table>
  <thead>
    <tr>
      <th>算术</th>
      <th>比较</th>
      <th>逻辑</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">x + y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x &gt; y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x &amp;&amp; y</code> <br /> (and)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">x - y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x &lt; y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x || y</code> <br /> (or)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">x * y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x &gt;= y</code></td>
      <td><code class="language-plaintext highlighter-rouge">c ? x : y</code><br /> (if c return x otherwise y)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">x / y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x &lt;= y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x &amp; y</code> <br /> (bitwise and)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">x++</code></td>
      <td><code class="language-plaintext highlighter-rouge">x == y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x | y</code> <br /> (bitwise or)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">x--</code></td>
      <td><code class="language-plaintext highlighter-rouge">x != y</code></td>
      <td><code class="language-plaintext highlighter-rouge">x ^ y</code> <br /> (bitwise xor)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">x % y</code></td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h3 id="逻辑控制语句">逻辑控制语句</h3>

<p>JavaScript 中的 if/else 判断类似 C 语言：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if </span><span class="p">(</span><span class="nx">condition_1</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...;</span>
<span class="p">}</span>
<span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">condition_2</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...;</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="p">...;</span>
<span class="p">}</span> 
</code></pre></div></div>
<p>在做大量的选择判断的时候，可以采用 switch/case 结构：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">switch</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span> <span class="p">{</span>
<span class="k">case</span> <span class="nx">k1</span><span class="p">:</span> 
    <span class="nx">执行代码块</span> <span class="mi">1</span> <span class="p">;</span> 
    <span class="k">break</span><span class="p">;</span> 
<span class="k">case</span> <span class="nx">k2</span><span class="p">:</span> 
    <span class="nx">执行代码块</span> <span class="mi">2</span> <span class="p">;</span> 
    <span class="k">break</span><span class="p">;</span> 
<span class="nl">default</span><span class="p">:</span> 
    <span class="nx">默认执行</span><span class="err">（</span><span class="nx">k</span> <span class="nx">值没有在</span> <span class="k">case</span> <span class="nx">中找到匹配时</span><span class="err">）</span><span class="p">;</span> 
<span class="p">}</span> 
</code></pre></div></div>

<p>在 JavaScript 中，for 循环的语法也类似 C 语言：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="nx">变量</span> <span class="o">=</span> <span class="nx">初始值</span> <span class="p">;</span> <span class="nx">循环条件</span> <span class="p">;</span> <span class="nx">变量累加方法</span><span class="p">)</span> <span class="p">{</span> <span class="nx">循环语句</span><span class="p">;</span> <span class="p">}</span> 
</code></pre></div></div>

<p>举例而言，下面的代码：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> <span class="nb">document</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="dl">"</span><span class="s2">number is </span><span class="dl">"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="dl">"</span><span class="s2">&lt;br&gt;</span><span class="dl">"</span><span class="p">);</span> <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>实际渲染效果如下：</p>

<script>
    for(var i=0; i<3; i++) { document.write("number is "+i+"<br>"); }
</script>

<p>Javascript 中的 while 循环有下面两种版本：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while </span><span class="p">(</span><span class="nx">条件</span><span class="p">)</span> <span class="p">{</span> <span class="nx">需要执行的代码</span><span class="p">;</span> <span class="p">}</span>      <span class="c1">// 1</span>

<span class="k">do</span> <span class="p">{</span> <span class="nx">需要执行的代码</span><span class="p">;</span> <span class="p">}</span> <span class="k">while </span><span class="p">(</span><span class="nx">条件</span><span class="p">);</span>  <span class="c1">// 2</span>
</code></pre></div></div>

<p>而这两者的区别是，<code class="language-plaintext highlighter-rouge">do/while</code> 循环在检测条件之前就会执行，也就是说，即使条件为 <code class="language-plaintext highlighter-rouge">false</code>，<code class="language-plaintext highlighter-rouge">do/while</code> 也会执行一次循环代码。</p>

<p>在循环体内，我们可以使用 <code class="language-plaintext highlighter-rouge">break</code> 和 <code class="language-plaintext highlighter-rouge">continue</code> 终止或者跳过循环.</p>

<p>比如：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">i</span> <span class="o">==</span> <span class="mi">5</span> <span class="o">||</span> <span class="nx">i</span> <span class="o">==</span> <span class="mi">6</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">i</span> <span class="o">==</span> <span class="mi">8</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span> <span class="p">}</span> 
</code></pre></div></div>

<p>输出为</p>

<script>
for (i = 1; i < 10; i++) {
    if (i == 5 || i == 6) continue;
    if (i == 8) break;
    document.write(i); } 
</script>

<h3 id="函数">函数</h3>

<p>在 JavaScript 中，函数由关键词 function 定义，函数可以有多个参数。基本格式为：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">函数名</span> <span class="p">(</span><span class="nx">参数1</span><span class="err">，</span><span class="nx">参数2</span><span class="p">){</span>
    <span class="nx">函数体</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">返回值</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>调用（使用）函数时，传入对应的参数，执行 <strong>函数体</strong> 中如 if/else，switch/case，for，while 等各种语句，可以实现各种复杂的功能。</p>

<p>如果多次采用 function 命令重复声明同一个函数，则后面的声明会覆盖前面的声明，比如以下代码：</p>

<h2 id="事件">事件</h2>

<p>JavaScript 是 <strong>基于对象</strong> 的语言：</p>

<ul>
  <li>鼠标或热键的动作我们称之为 <strong>事件</strong>（Event）;</li>
  <li>事件会引发<strong>事件处理程序</strong>的动作</li>
</ul>

<h3 id="常用事件">常用事件</h3>

<p>Javascript 中的常用事件如下：</p>

<hr />

<ul>
  <li>onclick 单击</li>
  <li>ondblclick 双击</li>
  <li>onfocus 元素获得焦点</li>
  <li>onblur 元素失去焦点</li>
</ul>

<hr />

<ul>
  <li>onmouseover 鼠标移到某元素之上</li>
  <li>onmouseout 鼠标从某元素移开</li>
</ul>

<hr />

<ul>
  <li>onmousedown 鼠标按钮被按下</li>
  <li>onmouseup 鼠标按键被松开</li>
</ul>

<hr />

<ul>
  <li>onkeydown 某个键盘按键被按下</li>
  <li>onkeyup 某个键盘按键被松开</li>
  <li>onkeypress 某个键盘按键被按下并松开</li>
</ul>

<hr />

<h3 id="例子">例子</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;script&gt;</span>
    <span class="kd">function</span> <span class="nf">click_button</span><span class="p">()</span> <span class="p">{</span> <span class="nf">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">You Just Clicked!</span><span class="dl">'</span><span class="p">);</span> <span class="p">}</span>
  <span class="nt">&lt;/script&gt;</span>

  <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">"click_button()"</span><span class="nt">&gt;</span>click me<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<script>
function click_button() {
    alert('You Just Clicked!');
}
</script>

<p><button onclick="click_button()">click me</button></p>

<hr />

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">'background-color:lightgreen;width:200px;height:50px;text-align:center;'</span>
   <span class="na">onmouseover=</span><span class="s">"this.innerHTML='good'"</span>
   <span class="na">onmouseout=</span><span class="s">"this.innerHTML='You have moved out'"</span>
<span class="nt">&gt;</span>move to here<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<div style="width:200px;text-align:center;background-color:lightpink" onmouseover="this.innerHTML='good'" onmouseout="this.innerHTML='You have moved out'">move to here</div>

<hr />

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
    <span class="kd">function</span> <span class="nf">mDown</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>
        <span class="nx">obj</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="dl">'</span><span class="s1">release your mouse</span><span class="dl">'</span><span class="p">;</span>
        <span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span><span class="o">=</span><span class="dl">'</span><span class="s1">lightgreen</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nf">mUp</span><span class="p">(</span><span class="nx">obj</span><span class="p">){</span>
        <span class="nx">obj</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span><span class="o">=</span><span class="dl">'</span><span class="s1">lightblue</span><span class="dl">'</span><span class="p">;</span>
        <span class="nx">obj</span><span class="p">.</span><span class="nx">innerHTML</span><span class="o">=</span><span class="dl">'</span><span class="s1">press me</span><span class="dl">'</span>
    <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">'background-color:lightgrey;width:200px;height:35px;text-align:center;'</span>
    <span class="na">onmousedown=</span><span class="s">'mDown(this)'</span>
    <span class="na">onmouseup=</span><span class="s">'mUp(this)'</span>
<span class="nt">&gt;</span>press here<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<script>
    function mDown(obj){
        obj.innerHTML='release your mouse';
        obj.style.backgroundColor='lightgreen';
    }

    function mUp(obj){
        obj.style.backgroundColor='lightblue';
        obj.innerHTML='press me'
    }
</script>

<div style="background-color:lightgrey;width:200px;height:35px;text-align:center;" onmousedown="mDown(this)" onmouseup="mUp(this)">press here</div>

<h2 id="对象">对象</h2>

<p>JavaScript 的所有数据都可以被视为对象，而每个对象都有其 <strong>属性</strong>（properties）和 <strong>方法</strong>（methods）。</p>

<ul>
  <li>对象的<strong>属性</strong>是一个变量，反映该对象某些特定的性质</li>
  <li>对象的<strong>方法</strong>是一个函数，实现特定功能</li>
</ul>

<p>当申请一个变量的时候：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">my_var</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">foo</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<p>其实也就是创建了一个 <strong>字符串对象</strong> ，这个对象拥有</p>

<ul>
  <li>属性 <code class="language-plaintext highlighter-rouge">my_var.length = 3</code></li>
  <li>方法 <code class="language-plaintext highlighter-rouge">my_var.toUpperCase()</code> ，将字符转为大写</li>
  <li>方法 <code class="language-plaintext highlighter-rouge">my_var.charAt(n)</code> 方法可以返回第 n 个字符</li>
</ul>

<h3 id="创建对象">创建对象</h3>

<p>创建一个“student”对象，并为其指定几个 <strong>属性</strong> 和 <strong>方法</strong>：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">student</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="p">();</span>  <span class="c1">// 创建对象“student”</span>

<span class="nx">student</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Tom</span><span class="dl">"</span><span class="p">;</span>   <span class="c1">// 对象属性 名字</span>
<span class="nx">student</span><span class="p">.</span><span class="nx">age</span>  <span class="o">=</span> <span class="dl">"</span><span class="s2">19</span><span class="dl">"</span><span class="p">;</span>    <span class="c1">// 对象属性 年龄</span>

<span class="nx">student</span><span class="p">.</span><span class="nx">study</span> <span class="o">=</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>   <span class="c1">// 对象方法 学习</span>
    <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">studying</span><span class="dl">"</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">student</span><span class="p">.</span><span class="nx">eat</span> <span class="o">=</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>     <span class="c1">// 对象方法 吃</span>
    <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">eating</span><span class="dl">"</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<p>此外，你也可以这样创建对象：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">student</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">student</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Tom</span><span class="dl">"</span><span class="p">;</span>
<span class="err">……</span>
</code></pre></div></div>

<p>或者这样：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">student</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span><span class="dl">"</span><span class="s2">Tom</span><span class="dl">"</span><span class="p">;</span>
     <span class="nl">age</span><span class="p">:</span><span class="dl">"</span><span class="s2">19</span><span class="dl">"</span><span class="p">;</span>
    <span class="err">……</span>
<span class="p">}</span>
</code></pre></div></div>

<p>但是以上方法在创建多个对象时，会产生大量重复代码，所以我们也可以采用函数的方式新建对象：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">student</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">study</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">studying</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">};</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">eat</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">eating</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>然后通过 <code class="language-plaintext highlighter-rouge">new</code> 创建 <code class="language-plaintext highlighter-rouge">student</code> 对象的实例：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">student1</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">student</span><span class="p">(</span><span class="dl">'</span><span class="s1">Tom</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">19</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">student2</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">student</span><span class="p">(</span><span class="dl">'</span><span class="s1">Jack</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">20</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="访问对象的属性和方法">访问对象的属性和方法</h3>

<p>我们可以这样，访问 student1 的属性：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">student1</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>  <span class="c1">// 访问对象的属性</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">student1</span><span class="p">.</span><span class="nx">age</span><span class="p">;</span>

<span class="nb">document</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="nb">document</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nx">y</span><span class="p">);</span>

<span class="nx">student1</span><span class="p">.</span><span class="nf">study</span><span class="p">();</span>     <span class="c1">// 调用对象的方法</span>
</code></pre></div></div>

<p>当我们需要 反复访问 某对象的时候，可以使用 <code class="language-plaintext highlighter-rouge">with</code> 语句简化操作，而不需要反复地用 <code class="language-plaintext highlighter-rouge">.</code> 符号，比如：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">with</span><span class="p">(</span><span class="nx">student1</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">y</span><span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
  <span class="nf">study</span><span class="p">();</span>
  <span class="nf">eat</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="string-字符串对象">String 字符串对象</h3>

<p>该对象只有一个属性，即 length，表示字符串中的字符个数，包括所有的空格和符号：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">test_var</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">I love You!</span><span class="dl">"</span><span class="p">;</span>
<span class="nb">document</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nx">test_var</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>  <span class="c1">// → 11</span>
</code></pre></div></div>
<p>String 对象共有 19 个内置方法，主要包括字符串在页面中的显示、字体大小、字体颜色、字符的搜索以及字符的大小写转换等功能，下面是一些常用的：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">charAt(n)</code> ：返回该字符串第 n 位的单个字符。（从 0 开始计数）</li>
  <li><code class="language-plaintext highlighter-rouge">charCodeAt(n)</code> ：返回该字符串第 n 位的单个字符的 ASCII 码。</li>
  <li><code class="language-plaintext highlighter-rouge">indexOf()</code> ：
    <ul>
      <li>用法： <code class="language-plaintext highlighter-rouge">a.indexOf(b, n);</code></li>
      <li>从字符串 <code class="language-plaintext highlighter-rouge">a</code> 的第 <code class="language-plaintext highlighter-rouge">n</code> 位开始搜索，查找 <code class="language-plaintext highlighter-rouge">b</code>，返回查找到的位置，如果未找到，则返回 <code class="language-plaintext highlighter-rouge">-1</code>，其中 <code class="language-plaintext highlighter-rouge">n</code> 可以不填，默认从第 <code class="language-plaintext highlighter-rouge">0</code> 位开始查找。</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">lastIndexOf()</code> ：跟 <code class="language-plaintext highlighter-rouge">indexOf()</code> 相似，不过是从后边开始找。</li>
  <li><code class="language-plaintext highlighter-rouge">split('分隔符')</code>：
    <ul>
      <li>将字符串按照指定的分隔符分离开，返回一个数组</li>
      <li>例： <code class="language-plaintext highlighter-rouge">'1&amp;2&amp;345&amp;678'.split('&amp;')； // → [1, 2, 345, 678] </code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">substring(n, m)</code> ：返回原字符串从 n 位置到 m 位置的子串。</li>
  <li><code class="language-plaintext highlighter-rouge">substr(n, x)</code> ：返回原字符串从 n 位置开始，长度为 x 的子串。</li>
  <li><code class="language-plaintext highlighter-rouge">toLowerCase()</code> ：返回把原字符串所有大写字母都变成小写的字符串。</li>
  <li><code class="language-plaintext highlighter-rouge">toUpperCase()</code> ：返回把原字符串所有小写字母都变成大写的字符串。</li>
</ul>

<h3 id="math-对象">Math 对象</h3>

<p>“数学”对象，提供对数据的数学计算。</p>

<p>Math 的几个属性，是数学上几个常用的值：</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">E</code> ：返回常数 e (2.718281828…)。</li>
  <li><code class="language-plaintext highlighter-rouge">LN2</code> ：返回 2 的自然对数 (ln 2)。</li>
  <li><code class="language-plaintext highlighter-rouge">LN10</code> ：返回 10 的自然对数 (ln 10)。</li>
  <li><code class="language-plaintext highlighter-rouge">LOG2E</code> ：返回以 2 为低的 e 的对数 (log2e)。</li>
  <li><code class="language-plaintext highlighter-rouge">LOG10E</code> ：返回以 10 为低的 e 的对数 (log10e)。</li>
  <li><code class="language-plaintext highlighter-rouge">PI</code> ：返回π（3.1415926535…)。</li>
  <li><code class="language-plaintext highlighter-rouge">SQRT1_2</code> ：返回 1/2 的平方根。</li>
  <li><code class="language-plaintext highlighter-rouge">SQRT2</code> ：返回 2 的平方根。</li>
</ul>

<p>Math 的内置方法，是一些数学上常用的数学运算：</p>

<ul>
  <li>abs(x) ：返回 x 的绝对值。</li>
  <li>round(x) ：返回 x 四舍五入后的值。</li>
  <li>sqrt(x) ：返回 x 的平方根。</li>
</ul>

<hr />

<ul>
  <li>ceil(x) ：返回大于等于 x 的最小整数。</li>
  <li>floor(x) ：返回小于等于 x 的最大整数。</li>
</ul>

<hr />

<ul>
  <li>sin(x) ：返回 x 的正弦。</li>
  <li>cos(x) ：返回 x 的余弦。</li>
  <li>tan(x) ：返回 x 的正切。</li>
  <li>acos(x) ：返回 x 的反余弦值。</li>
  <li>asin(x) ：返回 x 的反正弦值。</li>
  <li>atan(x) ：返回 x 的反正切值。</li>
</ul>

<hr />

<ul>
  <li>exp(x) ：返回 e 的 x 次幂 (e^x)。</li>
  <li>pow(n, m) ：返回 n 的 m 次幂 (nm)。</li>
  <li>log(x) ：返回 x 的自然对数 (ln x)。</li>
</ul>

<hr />

<ul>
  <li>max(a, b) ：返回 a, b 中较大的数。</li>
  <li>min(a, b) ：返回 a, b 中较小的数。</li>
  <li>random() ：返回大于 0 小于 1 的一个随机数。</li>
</ul>

<h3 id="array-数组对象">Array 数组对象</h3>

<p>数组对象是对象的集合，里边的对象可以是不同类型的。数组的每一个成员对象都有一个“下标”，用来表示它在数组中的位置（从 0 开始计数）。</p>

<p>数组下标表示方法是用方括号括起来，比如：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">myArray</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span> 
</code></pre></div></div>

<p>注意：JavaScript只有一维数组，要使用多维数组，请用这种虚拟法：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">myArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Array</span><span class="p">(</span>
    <span class="k">new</span> <span class="nc">Array</span><span class="p">(),</span> 
    <span class="k">new</span> <span class="nc">Array</span><span class="p">(),</span>
    <span class="k">new</span> <span class="nc">Array</span><span class="p">(),</span>
<span class="p">);</span>
</code></pre></div></div>

<p>其实这是一个一维数组，里边的每一个元素又是一个数组。调用这个“二维数组”的元素时：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">myArray</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">...;</span> 
</code></pre></div></div>

<p>Array 的属性</p>

<p><code class="language-plaintext highlighter-rouge">length</code> ：返回数组的长度，即数组里有多少个元素。它等于数组里最后一个元素的下标加一。</p>

<p>因此，想添加一个元素，只需要：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">myArray</span><span class="p">[</span><span class="nx">myArray</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span> <span class="o">=</span> <span class="p">...;</span>
</code></pre></div></div>

<p>Array 的方法</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">join("指定分隔符")</code> ：返回一个字符串，把数组元素串起来，元素间用指定分隔符隔开。</li>
  <li><code class="language-plaintext highlighter-rouge">toString()</code> ：把数组转为字符串，并返回结果。</li>
  <li><code class="language-plaintext highlighter-rouge">reverse()</code> ：使数组元素倒序。</li>
  <li><code class="language-plaintext highlighter-rouge">slice(n, m)</code> ：返回子数组，从数组第 n 个元素到第 m 个元素。</li>
  <li><code class="language-plaintext highlighter-rouge">sort(SortFunction)</code> ：按照指定的 SortFunction 将数组的元素排序。</li>
  <li><code class="language-plaintext highlighter-rouge">concat(Array_1, Array_2)</code> ：用于连接两个或多个数组。</li>
</ul>

<h2 id="dom">DOM</h2>

<p>本节 JavaScript 的 DOM 操作，内容主要包括：</p>

<ul>
  <li>通过 ID、名字、标签名 选取元素；</li>
  <li>通过 <code class="language-plaintext highlighter-rouge">getAttribute</code> 和 <code class="language-plaintext highlighter-rouge">setAttribute</code> 获取和设置元素属性；</li>
  <li>通过 <code class="language-plaintext highlighter-rouge">parentNode</code> 获取父元素、<code class="language-plaintext highlighter-rouge">createElement</code> 动态地创建节点、<code class="language-plaintext highlighter-rouge">appendChild</code> 和 <code class="language-plaintext highlighter-rouge">removeChild</code> 动态地添加或者删除节点。</li>
</ul>

<h3 id="基本概念">基本概念</h3>

<h4 id="什么是-dom">什么是 DOM</h4>

<p>DOM 是 <strong>文档对象模型</strong>（Document Object Model）的简称，它的基本思想是把结构化文档（比如 HTML 和 XML）解析成一系列的节点，再由这些节点组成一个树状结构（DOM Tree）。所有的节点和最终的树状结构，都有规范的对外接口，以达到使用编程语言操作文档的目的，所以，DOM 可以理解成文档（HTML 文档、XML 文档）的编程接口。</p>

<p>严格地说，DOM 不属于 JavaScript，但是操作 DOM 是 JavaScript 最常见的任务，而 JavaScript 也是最常用于 DOM 操作的语言，本章介绍的就是 JavaScript 对 DOM 标准的实现和用法。</p>

<h4 id="节点">节点</h4>

<p>DOM 的最小组成单位叫做 <strong>节点</strong>（node），一个文档的树形结构（DOM 树），就是由各种不同类型的节点组成。</p>

<p>对于 HTML 文档，节点主要有以下六种类型：</p>

<p>==
| 节点 | 名称 | 含义 |
| — | — | — |
| Document | 文档节点 | 文档的类型 |
| Element | 元素节点 | HTML 元素（比如&lt;head&gt;、&lt;body&gt;等） |
| Attribute | 属性节点 | HTML 元素的属性（比如 class=”right”） | 
| Text | 文本节点 | HTML 文档中出现的文本 | 
| DocumentFragment | 文档碎片节点 | 文档的片段 |
==</p>

<h3 id="选取文档元素">选取文档元素</h3>

<h4 id="通过-id-选取元素">通过 ID 选取元素</h4>

<p>我们可以使用方法 <code class="language-plaintext highlighter-rouge">getElementByID()</code> 通过元素的 ID 而选取元素，并对其做操作，比如：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">my_div</span><span class="dl">"</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="dl">"</span><span class="s2">100px</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// 设置 my_div 高度为 100px    </span>
<span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">my_div</span><span class="dl">"</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span><span class="o">=</span><span class="dl">"</span><span class="s2">red</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<p>通过 <code class="language-plaintext highlighter-rouge">getElementByID()</code> 设置了 ID 为 <code class="language-plaintext highlighter-rouge">my_div</code> 的一个 <code class="language-plaintext highlighter-rouge">div</code> 标签的高度（100px）和颜色（red），效果：</p>

<p><img src="/assets/images/js_intro/14824625618952.jpg" alt="set w250" /></p>

<h4 id="通过名字name或标签名tagname选取元素">通过名字（Name）或标签名（TagName）选取元素</h4>

<p>除了通过 ID 选择元素，我们还可以使用 getElementByName() 方法或者 getElementsByTagName() 方法找到元素，不过如果有多个同类型标签，那我们需要以下标来确认：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nf">getElementsByTagName</span><span class="p">(</span><span class="dl">"</span><span class="s2">input</span><span class="dl">"</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">value</span><span class="o">=</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">;</span>   <span class="c1">// 下标为 [0] 表示选取第 1 个 input 标签</span>
<span class="nb">document</span><span class="p">.</span><span class="nf">getElementsByTagName</span><span class="p">(</span><span class="dl">"</span><span class="s2">input</span><span class="dl">"</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">value</span><span class="o">=</span><span class="dl">"</span><span class="s2">shiyanlou</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 下标为 [1] 表示选取第 2 个 input 标签</span>
</code></pre></div></div>

<p>效果如图：</p>

<p><img src="/assets/images/js_intro/14824629669268.jpg" alt="set w350" /></p>

<h3 id="节点属性操作和文档遍历">节点、属性操作和文档遍历</h3>

<h4 id="查询和设置元素的属性">查询和设置元素的属性</h4>

<p>可以通过 <code class="language-plaintext highlighter-rouge">getAttribute()</code> 和 <code class="language-plaintext highlighter-rouge">setAttribute()</code> 查询和设置元素的属性：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;style&gt;</span>
    <span class="nc">.class_1</span> <span class="p">{</span><span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;}</span>
    <span class="nc">.class_2</span> <span class="p">{</span><span class="nl">color</span><span class="p">:</span> <span class="no">blue</span><span class="p">;}</span>
  <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">'div_1'</span> <span class="na">class=</span><span class="s">'class_1'</span><span class="nt">&gt;</span>
    <span class="nt">&lt;br/&gt;</span>
    <span class="nt">&lt;a&gt;</span>before:<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;script&gt;</span>
      <span class="nb">document</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">div_1</span><span class="dl">'</span><span class="p">).</span><span class="nf">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">class</span><span class="dl">'</span><span class="p">));</span>
    <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;br/&gt;</span>
    <span class="nt">&lt;a&gt;</span>after:<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;script&gt;</span>
      <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">div_1</span><span class="dl">'</span><span class="p">).</span><span class="nf">setAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">class</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">class_2</span><span class="dl">'</span><span class="p">);</span>
      <span class="nb">document</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">div_1</span><span class="dl">'</span><span class="p">).</span><span class="nf">getAttribute</span><span class="p">(</span><span class="dl">'</span><span class="s1">class</span><span class="dl">'</span><span class="p">));</span>
    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>运行结果：</p>

<p><img src="/assets/images/js_intro/14824640171162.jpg" alt="set w200" /></p>

<h4 id="父节点">父节点</h4>

<p>通过 <code class="language-plaintext highlighter-rouge">parentNode()</code> 方法可以查看并操作一个节点的父节点，示例：找到 <code class="language-plaintext highlighter-rouge">id</code> 为 <code class="language-plaintext highlighter-rouge">demo</code> 的元素的父节点，并输出其 <code class="language-plaintext highlighter-rouge">class</code> 的名称：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"demo-parent"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"demo"</span><span class="nt">&gt;</span>        
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;script&gt;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">demo</span><span class="dl">"</span><span class="p">).</span><span class="nx">parentNode</span><span class="p">.</span><span class="nf">getAttribute</span><span class="p">(</span><span class="dl">"</span><span class="s2">class</span><span class="dl">"</span><span class="p">));</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>运行结果：</p>

<p><img src="/assets/images/js_intro/14824642445480.jpg" alt="set w200" /></p>

<h4 id="创建和插入节点">创建和插入节点</h4>

<p>在了解 JavaScript 之前，可能会以为一个 HTML 页面被写出来是什么样，那它就固定了是什么样子。</p>

<p>但是 JavaScript 可以动态地在页面中创建并插入节点，这便需要用到 <code class="language-plaintext highlighter-rouge">createElement()</code>、<code class="language-plaintext highlighter-rouge">appendChild()</code> 方法，它们的作用分别是创建节点和插入节点。</p>

<p>比如：创建一个 div 并为其设置高度（100px）和背景色（red），并追加到 body 后面：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">stype=</span><span class="s">'background:lightgreen;height=100px;'</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;script&gt;</span>
    <span class="kd">var</span> <span class="nx">mydiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">mydiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">100px</span><span class="dl">'</span><span class="p">;</span>
    <span class="nx">mydiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">lightblue</span><span class="dl">'</span><span class="p">;</span>
    <span class="nb">document</span><span class="p">.</span><span class="nf">getElementsByTagName</span><span class="p">(</span><span class="dl">'</span><span class="s1">body</span><span class="dl">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">mydiv</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>运行结果</p>

<p><img src="/assets/images/js_intro/14824649963616.jpg" alt="set w200" /></p>

<h4 id="删除节点">删除节点</h4>

<p>除了创建，我们还可以删除一个节点，通过 <code class="language-plaintext highlighter-rouge">removeChild()</code> 方法：</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">'div_green'</span> <span class="na">style=</span><span class="s">'background:lightgreen; height:50px;'</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">'div_blue'</span> <span class="na">style=</span><span class="s">'background:lightblue; height:50px;'</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;script&gt;</span>
    <span class="kd">function</span> <span class="nf">remove</span><span class="p">(){</span>
      <span class="kd">var</span> <span class="nx">obj</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">div_green</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">obj</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nf">removeChild</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">'remove()'</span><span class="nt">&gt;</span>click to remove<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>运行结果：</p>

<p><img src="/assets/images/js_intro/14824656214787.gif" alt="set w200" /></p>

<h3 id="作业">作业</h3>

<p>参考“删除节点”的方式，在一个页面内实现：通过按钮改变页面颜色，通过按钮创建和插入节点等本节实验中的功能。</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;script&gt;</span>
        <span class="kd">function</span> <span class="nf">create_bar</span><span class="p">(){</span>
            <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">div_root</span><span class="dl">'</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">child</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="nc">Array</span><span class="p">(</span><span class="dl">'</span><span class="s1">lightgreen</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">lightblue</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">lightgrey</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">tomato</span><span class="dl">'</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">round</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">colors</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
            <span class="nx">child</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="nx">colors</span><span class="p">[</span><span class="nx">index</span><span class="p">];</span>
            <span class="nx">child</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">10px</span><span class="dl">'</span><span class="p">;</span>
            <span class="nx">root</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">child</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="kd">function</span> <span class="nf">change_color</span><span class="p">(){</span>
            <span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="nc">Array</span><span class="p">(</span><span class="dl">'</span><span class="s1">lightgreen</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">lightblue</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">lightgrey</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">tomato</span><span class="dl">'</span><span class="p">);</span>
            <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">div_root</span><span class="dl">'</span><span class="p">);</span>
            <span class="k">for </span><span class="p">(</span><span class="nx">child_index</span> <span class="k">in</span> <span class="nx">root</span><span class="p">.</span><span class="nx">children</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nf">round</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">colors</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
                <span class="nx">root</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="nx">child_index</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">background</span> <span class="o">=</span> <span class="nx">colors</span><span class="p">[</span><span class="nx">index</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">fine!</span><span class="dl">"</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="kd">function</span> <span class="nf">delete_bar</span><span class="p">(){</span>
            <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">div_root</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">root</span><span class="p">.</span><span class="nf">removeChild</span><span class="p">(</span><span class="nx">root</span><span class="p">.</span><span class="nx">lastChild</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="kd">function</span> <span class="nf">delete_all</span><span class="p">(){</span>
            <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">div_root</span><span class="dl">'</span><span class="p">);</span>
            <span class="k">while </span><span class="p">(</span><span class="nx">root</span><span class="p">.</span><span class="nx">childElementCount</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">){</span>
                <span class="nx">root</span><span class="p">.</span><span class="nf">removeChild</span><span class="p">(</span><span class="nx">root</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">'div_root'</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">'create_bar()'</span><span class="nt">&gt;</span>Create Bar<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">'change_color()'</span><span class="nt">&gt;</span>Change Color<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">'delete_bar()'</span><span class="nt">&gt;</span>Delete Bar<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">onclick=</span><span class="s">'delete_all()'</span><span class="nt">&gt;</span>Clean<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>运行结果：</p>

<p><img src="/assets/images/js_intro/14824755476197.gif" alt="set w300" /></p>


</div>


    </div>

  </body>

</html>

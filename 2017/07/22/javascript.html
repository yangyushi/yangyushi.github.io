<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Javascript</title>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/styles/github-gist.css">
    <script src="/assets/js/toc.js"></script>
    <script src="/assets/js/highlight.pack.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>

    <script type="text/javascript" id="MathJax-script" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
      >
    </script>
    
    </head>

  <body>
    <script>hljs.initHighlightingOnLoad();</script>
    
    <nav>
    <ul>
        
        <li>
        <a href=/
            
        >
            My Notebook
        </a>
        </li>
        
        <li>
        <a href=/about.html
            
        >
            About Me
        </a>
        </li>
        
    </ul>
</nav>


    <div class="main">
        <div id="side_bar">
    22 Jul 2017
</div>

<div class="post center">
    &lt;!doctype html&gt;
<html>
<head>
<meta charset="utf-8" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/lib/index.min.js" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markdown-it-texmath@0.6.5/css/texmath.css" />
<link rel="stylesheet" href="https://gitcdn.xyz/repo/goessner/mdmath/master/css/vscode-texmath.css" />

</head>
<body class="markdown-body">

<ul>
<li data-line="6" class="code-line">TOC
{:toc}</li>
</ul>
<h2 id="javascript-%E7%AE%80%E4%BB%8B" data-line="9" class="code-line">Javascript 简介</h2>
<h3 id="javascript-%E7%89%B9%E7%82%B9" data-line="11" class="code-line">JavaScript 特点</h3>
<p data-line="13" class="code-line">JavaScript 是一种脚本语言，它的解释器被称为 JavaScript 引擎。JavaScript 被发明用于在 HTML 网页上使用，给HTML网页增加动态功能。</p>
<p data-line="15" class="code-line">由于 JavaScript 简单易用，在现在世界上大多数网页中都能找到 JavaScript 代码，也是这个原因，现在所有的主流浏览器包含 JavaScript 引擎。</p>
<p data-line="17" class="code-line">JavaScript 可以让网页呈现各种特殊效果，为用户提供良好的互动体验，对于一个互联网开发者来说，如果你想提供漂亮的网页、令用户满意的上网体验、各种基于浏览器的便捷功能、前后端之间紧密高效的联系，JavaScript是必不可少的工具。</p>
<p data-line="19" class="code-line">此外，近年来 JavaScript 的使用范围，慢慢超越了浏览器，正在向通用的系统语言发展，你一定听说过“Node.js”、“JSON”等关键词。</p>
<h3 id="%E7%AE%80%E5%8D%95%E6%98%93%E5%AD%A6" data-line="21" class="code-line">简单易学</h3>
<p data-line="23" class="code-line">JavaScript 的语法和 C/C++、Java 等大家都了解的语言很类似，如果学过这些语言，JavaScript的入门会非常容易。</p>
<p data-line="25" class="code-line">还有一点，JavaScript 的学习环境十分简单，无处不在，只需要浏览器（FireFox、Chrome，甚至是 IE）和文本编辑器，不需要另外安装配置编译器、解释器、IDE 等。</p>
<h3 id="%E7%AC%AC%E4%B8%80%E4%B8%AA-javascript-%E7%A8%8B%E5%BA%8F" data-line="27" class="code-line">第一个 JavaScript 程序</h3>
<p data-line="29" class="code-line">在学习一门新语言的时候，大家都喜欢用“hello world”作为第一个程序，那么现在我们写一个 JavaScript 版本的：</p>
<pre><code data-line="31" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
alert(<span class="hljs-string">"hello world!"</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="44" class="code-line">JavaScript 代码放在 <script>……</script> 标签里，这段代码的效果是，弹出一个小框，显示“hello world!”。</p>
<p data-line="46" class="code-line">在实验楼环境中，把这段代码保存为一个 HTML 文件，命名为“test.html”，然后双击文件，系统会调用 FireFox 浏览器打开它：</p>
<p data-line="48" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14789316794500.jpg" alt="set w400" class="loading" id="image-hash--16847927" /></p>
<h3 id="javascript-%E6%94%BE%E5%9C%A8%E5%93%AA%E9%87%8C" data-line="50" class="code-line">JavaScript 放在哪里？</h3>
<p data-line="52" class="code-line">刚才我们编写了第一个 JavaScript 程序，强调过 JavaScript 代码必须放置在 <code>&lt;script&gt;……&lt;/script&gt;</code> 标签里。</p>
<p data-line="54" class="code-line">我们把包含代码的 <code>&lt;script&gt;……&lt;/script&gt;</code> 标签放在了 <code>&lt;body&gt;……&lt;/body&gt;</code> 标签里。其实不止可以这样做，我们还有另外两种方式在 HTML 中使用 JavaScript 。</p>
<h4 id="head-%E4%B8%AD%E7%9A%84-javascript" data-line="56" class="code-line">head 中的 JavaScript</h4>
<p data-line="58" class="code-line">我们除了可以把包含代码的 <code>&lt;script&gt;</code> 标签放在 <code>&lt;body&gt;……&lt;/body&gt;</code> 标签里，还可以把它放在 <code>&lt;head&gt;……&lt;/head&gt;</code> 标签里，比如这样：</p>
<pre><code data-line="60" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span> JavaScript in head. <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
alert(<span class="hljs-string">"hello word!"</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="74" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14789320566310.jpg" alt="set w400" class="loading" id="image-hash-1268706620" /></p>
<p data-line="77" class="code-line">这个程序的执行结果和刚才的没什么不同，但其实把 JavaScript 代码放在 <code>&lt;head&gt;&lt;/head&gt;</code> 和放在 <code>&lt;body&gt;&lt;/body&gt;</code> 里是有区别的：</p>
<p data-line="79" class="code-line">简单地说，放在 <code>&lt;head&gt;&lt;/head&gt;</code> 里的会比放在 <code>&lt;body&gt;&lt;/body&gt;</code> 先执行。<code>head</code> 标签里的代码会在页面还未开始绘制之前被解析，而在 <code>body</code> 里的代码则会在页面渲染的同时在读取到这段代码的时候才被执行。</p>
<h4 id="%E5%A4%96%E9%83%A8%E7%9A%84-javascript" data-line="81" class="code-line">外部的 JavaScript</h4>
<p data-line="83" class="code-line">除了直接把 JavaScript 代码写在 HTML 里，我们还可以把 JavaScript 的代码写在一个 js 文件中，在 HTML 里调用这个 js 文件。我们还是以 “hello world”举例。</p>
<p data-line="85" class="code-line">在实验楼环境中，把以下代码保存并命名为 “out.js”，放在桌面上：</p>
<pre><code data-line="87" class="code-line language-js"><div>alert(<span class="hljs-string">"hello world"</span>);
</div></code></pre>
<p data-line="91" class="code-line">把以下代码保存并命名为 “test2.html”，放在桌面：</p>
<pre><code data-line="93" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span> my JavaScript code in "out.js" <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"out.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="105" class="code-line">同样，双击桌面上的 “test2.html”文件，调用浏览器运行，你会发现运行效果和前两个程序也没什么区别。</p>
<p data-line="107" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14789321971004.jpg" alt="set w400" class="loading" id="image-hash--1638349119" /></p>
<p data-line="109" class="code-line">其实，前两种方式都是直接把 JavaScript 代码放在 HTML 中，在页面加载的同时，那些 JavaScript 的代码就被解析了。而把 JavaScript 代码放在外部文件中，只有在事件被触发，需要该段 JavaScript 代码时，才调用执行。</p>
<p data-line="111" class="code-line">这样做有个好处，当页面比较复杂的时候，把大量的 JavaScript 代码放到外部文件，只有在需要的时候才执行，那么会明显地加快页面加载速度。</p>
<h3 id="%E4%BD%9C%E4%B8%9A" data-line="113" class="code-line">作业</h3>
<p data-line="115" class="code-line">在一个 HTML 文件中，不同位置加入不同的 JavaScript 代码，运行观察不同位置的 JavaScript 代码执行的顺序。</p>
<p data-line="117" class="code-line">参考如下，观察弹框顺序：</p>
<pre><code data-line="119" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
alert(<span class="hljs-string">"in head"</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
alert(<span class="hljs-string">"in body"</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="137" class="code-line">弹窗结果：</p>
<p data-line="139" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14789325352360.jpg" alt="set-w957" class="loading" id="image-hash-541237601" /></p>
<p data-line="141" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14789325459103.jpg" alt="set-w958" class="loading" id="image-hash-2010450144" /></p>
<h2 id="javascript-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95" data-line="144" class="code-line">JavaScript 基本语法</h2>
<h3 id="%E5%8F%98%E9%87%8F" data-line="146" class="code-line">变量</h3>
<h4 id="javascript-%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F" data-line="148" class="code-line">JavaScript 中的变量</h4>
<p data-line="150" class="code-line">JavaScript 中的变量规则和其它如 C、Java 等语言类似，建议的变量命名规则：</p>
<ol>
<li data-line="152" class="code-line">由字母、数字、下划线组成，区分大小写</li>
<li data-line="153" class="code-line">以字母开头</li>
<li data-line="154" class="code-line">变量名不能有空格</li>
<li data-line="155" class="code-line">不能使用 JavaScript 中的关键字做变量名</li>
</ol>
<h4 id="%E5%8F%98%E9%87%8F%E7%9A%84%E5%A3%B0%E6%98%8E" data-line="157" class="code-line">变量的声明</h4>
<p data-line="159" class="code-line">在 JavaScript 中，变量用 Var 命令做声明</p>
<pre><code data-line="161" class="code-line language-js"><div><span class="hljs-comment">// 声明了一个名为 test 的变量。</span>
<span class="hljs-keyword">var</span> test ;

<span class="hljs-comment">// 声明一个名为 test_2 的变量，并赋值为“shiyanlou”。</span>
<span class="hljs-keyword">var</span> test_2 = <span class="hljs-string">"shiyanlou"</span> ;
</div></code></pre>
<p data-line="169" class="code-line">在 JavaScript 中，变量也可以不作声明，而在使用时再根据数据的类型来确其变量的类型，如：</p>
<pre><code data-line="171" class="code-line language-js"><div>x = <span class="hljs-number">100</span> ;     <span class="hljs-comment">// 变量 x 为整数</span>
y = <span class="hljs-string">"hello"</span> ; <span class="hljs-comment">// 变量 y 为字符串</span>
z = True ;    <span class="hljs-comment">// 变量 z 为布尔型</span>
cars=[<span class="hljs-string">"Audi"</span>,<span class="hljs-string">"BMW"</span>,<span class="hljs-string">"Volvo"</span>]; <span class="hljs-comment">// cars 是一个数组</span>
</div></code></pre>
<h4 id="%E4%BD%9C%E7%94%A8%E5%9F%9F" data-line="178" class="code-line">作用域</h4>
<p data-line="180" class="code-line">与其他语言一样，JavaScript 中的变量同样有全局变量和局部变量之分。</p>
<p data-line="182" class="code-line">全局变量是定义在所有函数之外的，其作用范围是整段 JavaScript 代码；</p>
<p data-line="184" class="code-line">而局部变量是定义在函数体之内，只对其该函数是可见，而对其它函数则是不可见的。</p>
<h3 id="%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" data-line="186" class="code-line">数据类型</h3>
<h4 id="%E5%AD%97%E7%AC%A6%E4%B8%B2" data-line="188" class="code-line">字符串</h4>
<p data-line="190" class="code-line">字符串是存储字符（比如 &quot;shiyanlou&quot;）的变量。</p>
<p data-line="192" class="code-line">字符串可以是引号中的任意文本，您可以使用单引号或双引号，也可以在字符串中使用引号，只要不匹配包围字符串的引号即可：</p>
<pre><code data-line="194" class="code-line language-js"><div><span class="hljs-keyword">var</span> carname=<span class="hljs-string">"shiyanlou"</span>;
<span class="hljs-keyword">var</span> carname=<span class="hljs-string">'shiyanlou'</span>;
<span class="hljs-keyword">var</span> answer=<span class="hljs-string">"I Love 'shiyanlou'"</span>;
<span class="hljs-keyword">var</span> answer=<span class="hljs-string">'I Love "shiyanlou"'</span>;
</div></code></pre>
<h4 id="%E6%95%B0%E5%AD%97" data-line="201" class="code-line">数字</h4>
<p data-line="203" class="code-line">JavaScript 只有一种数字类型。数字可以带小数点，也可以不带：</p>
<pre><code data-line="205" class="code-line language-js"><div><span class="hljs-keyword">var</span> x1=<span class="hljs-number">34.00</span>;      <span class="hljs-comment">//使用小数点来写</span>
<span class="hljs-keyword">var</span> x2=<span class="hljs-number">34</span>;         <span class="hljs-comment">//不使用小数点来写</span>
</div></code></pre>
<h4 id="%E5%B8%83%E5%B0%94" data-line="210" class="code-line">布尔</h4>
<p data-line="212" class="code-line">布尔只能有两个值：true 或 false：</p>
<pre><code data-line="214" class="code-line language-js"><div><span class="hljs-keyword">var</span> x=<span class="hljs-literal">true</span>
<span class="hljs-keyword">var</span> y=<span class="hljs-literal">false</span>
</div></code></pre>
<h4 id="%E6%95%B0%E7%BB%84" data-line="219" class="code-line">数组</h4>
<p data-line="221" class="code-line">创建一个名为 boys 的数组：</p>
<pre><code data-line="223" class="code-line language-js"><div><span class="hljs-keyword">var</span> boys=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
boys[<span class="hljs-number">0</span>]=<span class="hljs-string">"Tom"</span>;
boys[<span class="hljs-number">1</span>]=<span class="hljs-string">"Jack"</span>;
boys[<span class="hljs-number">2</span>]=<span class="hljs-string">"Alex"</span>;
</div></code></pre>
<p data-line="230" class="code-line">也可以这样:</p>
<pre><code data-line="232" class="code-line language-js"><div><span class="hljs-keyword">var</span> boys=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">"Tom"</span>,<span class="hljs-string">"Jack"</span>,<span class="hljs-string">"Alex"</span>);
</div></code></pre>
<p data-line="236" class="code-line">或者这样:</p>
<pre><code data-line="238" class="code-line language-js"><div><span class="hljs-keyword">var</span> boys=[<span class="hljs-string">"Tom"</span>,<span class="hljs-string">"Jack"</span>,<span class="hljs-string">"Alex"</span>];
</div></code></pre>
<h3 id="%E8%BF%90%E7%AE%97%E7%AC%A6" data-line="242" class="code-line">运算符</h3>
<p data-line="244" class="code-line">大多数编程语言的运算符规则都是相似的，JavaScript 与大多数人熟悉的 C、Java 等都很接近。</p>
<h4 id="%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6" data-line="246" class="code-line">算数运算符</h4>
<p data-line="248" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14789330221220.jpg" alt="set-w212" class="loading" id="image-hash--355778499" /></p>
<h4 id="%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6" data-line="251" class="code-line">比较运算符</h4>
<p data-line="253" class="code-line">比较运算符的基本操作过程是，首先对它的操作数进行比较，再返回一个 true 或 False 值，有８个比较运算符:</p>
<pre><code data-line="255" class="code-line"><code><div>&lt; (小于)
&gt; (大于)
&lt;= (小于等于)
&gt;= (大于等于)
== (等于)
!= (不等于)。
</div></code></code></pre>
<h4 id="%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6" data-line="264" class="code-line">逻辑运算符</h4>
<p data-line="266" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14789330861188.png" alt="-w390" class="loading" id="image-hash--883077692" /></p>
<h3 id="javascript-%E8%AF%AD%E5%8F%A5" data-line="269" class="code-line">JavaScript 语句</h3>
<h4 id="ifelse-%E8%AF%AD%E5%8F%A5" data-line="271" class="code-line">if/else 语句</h4>
<p data-line="273" class="code-line">JavaScript 中的 if/else 判断选择，你会发现，就像 C 语言。语法格式是这样的：</p>
<pre><code data-line="275" class="code-line language-js"><div><span class="hljs-keyword">if</span> (条件 <span class="hljs-number">1</span>) { 当条件 <span class="hljs-number">1</span> 为 <span class="hljs-literal">true</span> 时执行的代码; }
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (条件 <span class="hljs-number">2</span>) { 当条件 <span class="hljs-number">2</span> 为 <span class="hljs-literal">true</span> 时执行的代码; }
<span class="hljs-keyword">else</span> { 当条件 <span class="hljs-number">1</span> 和 条件 <span class="hljs-number">2</span> 都不为 <span class="hljs-literal">true</span> 时执行的代码; } 
</div></code></pre>
<h4 id="switchcase-%E8%AF%AD%E5%8F%A5" data-line="281" class="code-line">switch/case 语句</h4>
<p data-line="283" class="code-line">在做大量的选择判断的时候，如果依然使用 if/else 结构，那么代码有可能会变得很凌乱，于是我们采用 switch/case 结构：</p>
<pre><code data-line="285" class="code-line language-js"><div><span class="hljs-keyword">switch</span>(k) {
<span class="hljs-keyword">case</span> k1: 
    执行代码块 <span class="hljs-number">1</span> ; 
    <span class="hljs-keyword">break</span>; 
<span class="hljs-keyword">case</span> k2: 
    执行代码块 <span class="hljs-number">2</span> ; 
    <span class="hljs-keyword">break</span>; 
<span class="hljs-keyword">default</span>: 
    默认执行（k 值没有在 <span class="hljs-keyword">case</span> 中找到匹配时）; 
} 
</div></code></pre>
<h4 id="for-%E5%BE%AA%E7%8E%AF" data-line="298" class="code-line">for 循环</h4>
<p data-line="300" class="code-line">for 循环是程序员进场经常用到的工具，在 JavaScript 中，for 循环的语法也十分类似 C 语言，格式是这样的：</p>
<pre><code data-line="302" class="code-line language-js"><div><span class="hljs-keyword">for</span>(变量 = 初始值 ; 循环条件 ; 变量累加方法) { 循环语句; } 
</div></code></pre>
<p data-line="306" class="code-line">举例说明更清楚，比如循环打印出 0～7 的数字：</p>
<pre><code data-line="308" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">8</span>;i++) { <span class="hljs-built_in">document</span>.write(<span class="hljs-string">"number is "</span>+i+<span class="hljs-string">"&lt;br&gt;"</span>); }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span> 
</div></code></pre>
<p data-line="319" class="code-line">在浏览器中的效果：</p>
<p data-line="321" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824000347413.jpg" alt="set-w357" class="loading" id="image-hash-1503718812" /></p>
<h4 id="while-%E5%BE%AA%E7%8E%AF" data-line="323" class="code-line">while 循环</h4>
<p data-line="325" class="code-line">区别于 for 循环的另一种循环方式：</p>
<pre><code data-line="327" class="code-line language-js"><div><span class="hljs-keyword">while</span> (条件) { 需要执行的代码; } 
</div></code></pre>
<p data-line="331" class="code-line">此外，while 循环还有一种变体，称作 do/while 循环：</p>
<pre><code data-line="333" class="code-line language-js"><div><span class="hljs-keyword">do</span> { 需要执行的代码; } <span class="hljs-keyword">while</span> (条件);
</div></code></pre>
<p data-line="337" class="code-line">而这两者的区别是，<code>do/while</code> 循环在检测条件之前就会执行，也就是说，即使条件为 <code>false</code>，<code>do/while</code> 也会执行一次循环代码。</p>
<h4 id="break-%E5%92%8C-continue-%E8%AF%AD%E5%8F%A5" data-line="339" class="code-line">break 和 continue 语句</h4>
<p data-line="341" class="code-line">有时候在循环体内，需要立即跳出循环或跳过循环体内其余代码而进行下一次循环，这便是 break 和 continue 的作用。</p>
<ul>
<li data-line="343" class="code-line">
<p data-line="343" class="code-line">break 本语句放在循环体内，作用是立即跳出循环。</p>
</li>
<li data-line="345" class="code-line">
<p data-line="345" class="code-line">continue 本语句放在循环体内，作用是中止本次循环，并执行下一次循环。如果循环的条件已经不符合，就跳出循环。</p>
</li>
</ul>
<p data-line="347" class="code-line">比如：</p>
<pre><code data-line="349" class="code-line language-js"><div><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">10</span>; i++) {
    <span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span> || i == <span class="hljs-number">6</span>) <span class="hljs-keyword">continue</span>;
    <span class="hljs-keyword">if</span> (i == <span class="hljs-number">8</span>) <span class="hljs-keyword">break</span>;
    <span class="hljs-built_in">document</span>.write(i); } 
</div></code></pre>
<p data-line="356" class="code-line">输出为 <code>12347</code>，便是跳过了 <code>5</code> 和 <code>6</code>，然后在 <code>i == 8</code> 的时候跳出了循环。</p>
<h3 id="javascript-%E5%87%BD%E6%95%B0" data-line="358" class="code-line">JavaScript 函数</h3>
<p data-line="360" class="code-line">在进行一个复杂的程序设计时，需要根据所要完成的功能，将程序划分为一些相对独立的部分，每部分编写一个“函数”。从而，使各部分充分独立，任务单一，程序清晰，易懂、易读、易维护。</p>
<p data-line="362" class="code-line">JavaScript 的函数可以封装那些在程序中可能要多次用到的模块，并可作为 <strong>事件驱动</strong>的结果而调用的程序，从而实现一个函数把它与事件驱动相关联，这是与其它语言不同的地方。</p>
<p data-line="364" class="code-line">在 JavaScript 中，函数由关键词 function 定义，函数可以有多个参数。基本格式为：</p>
<pre><code data-line="366" class="code-line language-js"><div><span class="hljs-function"><span class="hljs-keyword">function</span> 函数名 (<span class="hljs-params">参数<span class="hljs-number">1</span>，参数<span class="hljs-number">2</span></span>)</span>{
    函数体;
    <span class="hljs-keyword">return</span> 返回值;
}
</div></code></pre>
<p data-line="373" class="code-line">调用（使用）函数时，传入对应的参数，执行 <strong>函数体</strong> 中如 if/else，switch/case，for，while 等各种语句，可以实现各种复杂的功能。</p>
<h3 id="e4bd9ce4b89a-1" data-line="375" class="code-line">作业</h3>
<h4 id="1-%E7%94%A8-while-%E4%BB%A3%E6%9B%BF-for-%E5%BE%AA%E7%8E%AF" data-line="377" class="code-line">1. 用 while 代替 for 循环</h4>
<p data-line="379" class="code-line">在 for 循环介绍时，有一处 for 循环代码，用于打印 0～7 的数字，现在将代码改为 while 循环。</p>
<pre><code data-line="381" class="code-line language-js"><div><span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
<span class="hljs-keyword">while</span> (i &lt; <span class="hljs-number">8</span>){
    <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'Number is '</span> + i + <span class="hljs-string">'&lt;br&gt;'</span>);
    i ++;
}
</div></code></pre>
<h4 id="2-%E9%87%8D%E5%A4%8D%E5%A3%B0%E6%98%8E%E5%87%BD%E6%95%B0" data-line="389" class="code-line">2. 重复声明函数</h4>
<p data-line="391" class="code-line">函数的重复声明：如果多次采用 function 命令重复声明同一个函数，则后面的声明会覆盖前面的声明，比如以下代码：</p>
<pre><code data-line="393" class="code-line language-js"><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">my_func</span>(<span class="hljs-params"></span>)</span>{
<span class="hljs-built_in">document</span>.write(<span class="hljs-number">1</span>);
}

my_func()

<span class="hljs-built_in">document</span>.write(<span class="hljs-string">"&lt;br&gt;"</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">my_func</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-built_in">document</span>.write(<span class="hljs-number">2</span>);
}

my_func()
</div></code></pre>
<p data-line="409" class="code-line">两次声明了同一个函数 <code>my_func</code>，观察运行结果，并思考。</p>
<p data-line="411" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824007896209.jpg" alt="set w200" class="loading" id="image-hash-1134117513" /></p>
<p data-line="413" class="code-line">说明执行代码和定义代码是分开的。大概解释器读了两遍源代码，第一次读所有的定义代码，第二次执行所有的执行代码。</p>
<h4 id="3-%E5%8F%98%E9%87%8F%E7%9A%84%E4%B8%8D%E7%A8%B3%E5%AE%9A%E6%80%A7" data-line="415" class="code-line">3. 变量的不稳定性</h4>
<p data-line="417" class="code-line">JavaScript 是一种弱类型（或称动态类型）语言，即变量的类型是不确定的，理解下面四段 JavaScript 代码，运行并观察，探索变量类型的不确定性：</p>
<pre><code data-line="419" class="code-line language-js"><div>x=<span class="hljs-number">5</span>+<span class="hljs-number">5</span>;     <span class="hljs-comment">// 数字 + 数字</span>
<span class="hljs-built_in">document</span>.write(x);
y=<span class="hljs-string">"6"</span>+<span class="hljs-string">"6"</span>; <span class="hljs-comment">// 字符串 + 字符串</span>
<span class="hljs-built_in">document</span>.write(y);
m=<span class="hljs-number">7</span>+<span class="hljs-string">"7"</span>;  <span class="hljs-comment">// 数字 + 字符串</span>
<span class="hljs-built_in">document</span>.write(m);
n=<span class="hljs-string">"8"</span>+<span class="hljs-number">8</span>;  <span class="hljs-comment">// 字符串 + 数字</span>
<span class="hljs-built_in">document</span>.write(n);
</div></code></pre>
<p data-line="430" class="code-line">结果：</p>
<p data-line="432" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824040988125.jpg" alt="set w200" class="loading" id="image-hash-1311860883" /></p>
<h2 id="%E4%BA%8B%E4%BB%B6" data-line="435" class="code-line">事件</h2>
<h3 id="%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6" data-line="437" class="code-line">什么是事件</h3>
<p data-line="439" class="code-line">JavaScript 是 <strong>基于对象</strong> 的语言。这与 Java 不同，Java 是 <strong>面向对象</strong> 的语言。</p>
<p data-line="441" class="code-line"><strong>基于对象</strong> 的基本特征，就是采用 <strong>事件驱动</strong>。</p>
<p data-line="443" class="code-line">通常鼠标或热键的动作我们称之为 <strong>事件</strong>（Event），而由鼠标或热键引发的一连串程序的动作，称之为 <strong>事件驱动</strong>。对事件进行处理程序或函数，我们称之为 <strong>事件处理程序</strong>。</p>
<h3 id="%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F" data-line="445" class="code-line">事件处理程序</h3>
<p data-line="447" class="code-line">在某个事件发生的时候，执行特定的 JavaScript 代码（事件处理程序）。</p>
<p data-line="449" class="code-line">比如点击页面的某个按钮这是一个很常见的事件，执行对应的事件处理程序，弹出提示小窗口，代码如下：</p>
<pre><code data-line="451" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">click_button</span><span class="hljs-params">()</span> </span>{     <span class="hljs-comment">// 事件处理程序，弹出提示窗</span>
      alert(<span class="hljs-string">'welcome to shiyanlou'</span>);
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">align</span>=<span class="hljs-string">"center"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">br</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"click_button()"</span>&gt;</span>click me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>  <span class="hljs-comment">&lt;!--发生事件 onclick 的时候，执行 click_button()→
&lt;/body&gt;
&lt;/html&gt;
</span></div></code></pre>
<p data-line="468" class="code-line">运行结果：</p>
<p data-line="470" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824049522888.jpg" alt="set w300" class="loading" id="image-hash-1290223268" /></p>
<h3 id="%E5%B8%B8%E7%94%A8%E4%BA%8B%E4%BB%B6" data-line="472" class="code-line">常用事件</h3>
<p data-line="474" class="code-line">除了刚才提到的 onclick 事件，还有这些常用的事件：</p>
<ul>
<li data-line="476" class="code-line">onclick 单击</li>
<li data-line="477" class="code-line">ondblclick 双击</li>
<li data-line="478" class="code-line">onfocus 元素获得焦点</li>
<li data-line="479" class="code-line">onblur 元素失去焦点</li>
</ul>
<hr />
<ul>
<li data-line="483" class="code-line">onmouseover 鼠标移到某元素之上</li>
<li data-line="484" class="code-line">onmouseout 鼠标从某元素移开</li>
</ul>
<hr />
<ul>
<li data-line="488" class="code-line">onmousedown 鼠标按钮被按下</li>
<li data-line="489" class="code-line">onmouseup 鼠标按键被松开</li>
</ul>
<hr />
<ul>
<li data-line="493" class="code-line">onkeydown 某个键盘按键被按下</li>
<li data-line="494" class="code-line">onkeyup 某个键盘按键被松开</li>
<li data-line="495" class="code-line">onkeypress 某个键盘按键被按下并松开</li>
</ul>
<hr />
<h3 id="onmouseover-%E5%92%8C-onmouseout" data-line="499" class="code-line">onmouseover 和 onmouseout</h3>
<p data-line="501" class="code-line">onmouseover 和 onmouseout 事件可用于在鼠标移至 HTML 元素上和移出元素时触发函数。比如这一例子：</p>
<pre><code data-line="503" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">'background-color:lightgreen;width:200px;height:50px;text-align:center;'</span>
       <span class="hljs-attr">onmouseover</span>=<span class="hljs-string">"this.innerHTML='good'"</span>
       <span class="hljs-attr">onmouseout</span>=<span class="hljs-string">"this.innerHTML='You have moved out'"</span>
  &gt;</span>move your mouse to here<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="515" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824055248730.gif" alt="set w250" class="loading" id="image-hash-2115662429" /></p>
<h3 id="onmousedown-%E5%92%8C-onmouseup" data-line="517" class="code-line">onmousedown 和 onmouseup</h3>
<p data-line="519" class="code-line">onmousedown, onmouseup 是鼠标 <strong>压下</strong>和 <strong>松开</strong> 的事件。首先当点击鼠标按钮时，会触发 onmousedown 事件，当释放鼠标按钮时，会触发 onmouseup 事件。举例说明：</p>
<pre><code data-line="521" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mDown</span><span class="hljs-params">(obj)</span></span>{
      obj.innerHTML=<span class="hljs-string">'release your mouse'</span>;
      obj.style.backgroundColor=<span class="hljs-string">'lightgreen'</span>;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mUp</span><span class="hljs-params">(obj)</span></span>{
      obj.style.backgroundColor=<span class="hljs-string">'lightblue'</span>;
      obj.innerHTML=<span class="hljs-string">'press me'</span>
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">'background-color:lightgrey;width:200px;height:35px;text-align:center;'</span>
       <span class="hljs-attr">onmousedown</span>=<span class="hljs-string">'mDown(this)'</span>
       <span class="hljs-attr">onmouseup</span>=<span class="hljs-string">'mUp(this)'</span>
  &gt;</span>press here<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="543" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824065008413.gif" alt="set w250" class="loading" id="image-hash--1439343364" /></p>
<p data-line="545" class="code-line">运行结果可见，按下鼠标时，显示“release your mouse”，背景变为蓝色；松开鼠标后，显示为“press here”，背景变为绿色。</p>
<h3 id="e4bd9ce4b89a-2" data-line="547" class="code-line">作业</h3>
<p data-line="549" class="code-line">请实现一个验证输入的功能，当输入中为空，失去焦点时弹出对话框提示“input cannot be empty”。</p>
<pre><code data-line="551" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">check_input</span><span class="hljs-params">(obj)</span></span>{
      <span class="hljs-keyword">if</span> (obj.value == <span class="hljs-string">''</span>){
        alert(<span class="hljs-string">'input can not be empty'</span>);
      }
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">onblur</span>=<span class="hljs-string">'check_input(this)'</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="570" class="code-line">运行结果</p>
<p data-line="572" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824074488953.gif" alt="set w250" class="loading" id="image-hash--1617029409" /></p>
<h2 id="%E5%AF%B9%E8%B1%A1" data-line="574" class="code-line">对象</h2>
<p data-line="576" class="code-line">上一节实验说过，JavaScript 是一门基于对象的语言，现在我们对 JavaScript 的基于对象概念，做详细的介绍。</p>
<h3 id="%E4%BB%80%E4%B9%88%E6%98%AF%E5%AF%B9%E8%B1%A1" data-line="578" class="code-line">什么是对象</h3>
<p data-line="580" class="code-line">JavaScript 的所有数据都可以被视为对象，而每个对象都有其 <strong>属性</strong>（properties）和 <strong>方法</strong>（methods）。</p>
<p data-line="582" class="code-line">对象的 <strong>属性</strong> 是反映该对象某些特定的性质的，例如：字符串的长度、图像的长宽、文字框（Textbox）里的文字等；</p>
<p data-line="584" class="code-line">对象的 <strong>方法</strong> 能对该对象做一些事情，例如，表单的“提交”(Submit)，窗口的“滚动”（Scrolling）等。</p>
<p data-line="586" class="code-line">比如当申请一个变量的时候：</p>
<pre><code data-line="588" class="code-line language-js"><div><span class="hljs-keyword">var</span> my_var=<span class="hljs-string">"shiyanlou"</span>;
</div></code></pre>
<p data-line="592" class="code-line">其实也就是创建了一个 <strong>字符串对象</strong> ，这个对象拥有内建的属性 <code>my_var.length = 9</code></p>
<p data-line="594" class="code-line">同时，这个字符串对象还有数个内建的方法，比如 <code>my_var.toUpperCase()</code> 方法可以将字符转为大写；<code>my_var.charAt(n)</code> 方法可以返回第 n 个字符。</p>
<h3 id="%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1" data-line="596" class="code-line">创建对象</h3>
<p data-line="598" class="code-line">JavaScript 提供了一些常用的内置对象（稍后介绍），但是有些情况下我们需要自定义地创建对象，以达到特殊的、丰富的功能。</p>
<p data-line="600" class="code-line">比如我们创建一个“student”对象，并为其指定几个 <strong>属性</strong> 和 <strong>方法</strong>：</p>
<pre><code data-line="602" class="code-line language-js"><div>student = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();  <span class="hljs-comment">// 创建对象“student”</span>

student.name = <span class="hljs-string">"Tom"</span>;   <span class="hljs-comment">// 对象属性 名字</span>
student.age  = <span class="hljs-string">"19"</span>;    <span class="hljs-comment">// 对象属性 年龄</span>

student.study =<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{   <span class="hljs-comment">// 对象方法 学习</span>
    alert(<span class="hljs-string">"studying"</span>);
};

student.eat =<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{     <span class="hljs-comment">// 对象方法 吃</span>
    alert(<span class="hljs-string">"eating"</span>);
};
</div></code></pre>
<p data-line="617" class="code-line">此外，你也可以这样创建对象：</p>
<pre><code data-line="619" class="code-line language-js"><div><span class="hljs-keyword">var</span> student = {};
student.name = <span class="hljs-string">"Tom"</span>;
……
</div></code></pre>
<p data-line="625" class="code-line">或者这样：</p>
<pre><code data-line="627" class="code-line language-js"><div><span class="hljs-keyword">var</span> student = {
    <span class="hljs-attr">name</span>:<span class="hljs-string">"Tom"</span>;
     age:<span class="hljs-string">"19"</span>;
    ……
}
</div></code></pre>
<p data-line="635" class="code-line">但是以上方法在创建多个对象时，会产生大量重复代码，所以我们也可以采用函数的方式新建对象：</p>
<pre><code data-line="637" class="code-line language-js"><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">student</span>(<span class="hljs-params">name,age</span>) </span>{

    <span class="hljs-keyword">this</span>.name = name;
    <span class="hljs-keyword">this</span>.age = age;

    <span class="hljs-keyword">this</span>.study = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        alert(<span class="hljs-string">"studying"</span>);
    };

    <span class="hljs-keyword">this</span>.eat = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        alert(<span class="hljs-string">"eating"</span>);
    }
}
</div></code></pre>
<p data-line="653" class="code-line">然后通过 <code>new</code> 创建 <code>student</code> 对象的实例：</p>
<pre><code data-line="655" class="code-line language-js"><div><span class="hljs-keyword">var</span> student1 = <span class="hljs-keyword">new</span> student(<span class="hljs-string">'Tom'</span>,<span class="hljs-string">'19'</span>);
<span class="hljs-keyword">var</span> student2 = <span class="hljs-keyword">new</span> student(<span class="hljs-string">'Jack'</span>,<span class="hljs-string">'20'</span>);
</div></code></pre>
<h3 id="%E8%AE%BF%E9%97%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95" data-line="660" class="code-line">访问对象的属性和方法</h3>
<p data-line="662" class="code-line">对象的存在意义，就是为了方便地操作数据，我们可以很容易地访问对象的属性或调用对象的方法，通过符号 <code>.</code>。</p>
<p data-line="664" class="code-line">比如我们刚才新建的 <code>student1</code> 对象，可以这样使用：</p>
<pre><code data-line="666" class="code-line language-js"><div><span class="hljs-keyword">var</span> x = student1.name;  <span class="hljs-comment">// 访问对象的属性</span>
<span class="hljs-keyword">var</span> y = student1.age;

<span class="hljs-built_in">document</span>.write(x);
<span class="hljs-built_in">document</span>.write(y);

student1.study();     <span class="hljs-comment">// 调用对象的方法</span>
</div></code></pre>
<p data-line="676" class="code-line">当我们需要 反复访问 某对象的时候，可以使用 <code>with</code> 语句简化操作，而不需要反复地用 <code>.</code> 符号，比如：</p>
<pre><code data-line="678" class="code-line language-js"><div><span class="hljs-keyword">with</span>(student1) {
  <span class="hljs-keyword">var</span> x = name;
  <span class="hljs-keyword">var</span> y= age;
  study();
  eat();
}
</div></code></pre>
<h3 id="%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1" data-line="687" class="code-line">常用内置对象</h3>
<p data-line="689" class="code-line">JavaScript 为我们提供了一些非常有用的常用内置对象，这样我们就不用每次自己编代码来实现一些常用功能。</p>
<p data-line="691" class="code-line">现在我们举例介绍 String、Math、Array 三中常用对象及其属性和方法。</p>
<h4 id="string-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AF%B9%E8%B1%A1" data-line="693" class="code-line">String 字符串对象</h4>
<p data-line="695" class="code-line">本节实验一开始就举例介绍过 String 对象，每当创建一个字符串变量的时候，也就相当于创建了一个 String 对象。</p>
<h5 id="string-%E7%9A%84%E5%B1%9E%E6%80%A7" data-line="697" class="code-line">String 的属性</h5>
<p data-line="699" class="code-line">该对象只有一个属性，即 length，表示字符串中的字符个数，包括所有的空格和符号：</p>
<pre><code data-line="701" class="code-line language-js"><div><span class="hljs-keyword">var</span> test_var = <span class="hljs-string">"I love You!"</span>;
<span class="hljs-built_in">document</span>.write(test_var.length);  <span class="hljs-comment">// → 11</span>
</div></code></pre>
<h5 id="string-%E7%9A%84%E6%96%B9%E6%B3%95" data-line="706" class="code-line">String 的方法</h5>
<p data-line="708" class="code-line">String 对象共有 19 个内置方法，主要包括字符串在页面中的显示、字体大小、字体颜色、字符的搜索以及字符的大小写转换等功能，下面是一些常用的：</p>
<ul>
<li data-line="710" class="code-line">
<p data-line="710" class="code-line"><code>charAt(n)</code> ：返回该字符串第 n 位的单个字符。（从 0 开始计数）</p>
</li>
<li data-line="712" class="code-line">
<p data-line="712" class="code-line"><code>charCodeAt(n)</code> ：返回该字符串第 n 位的单个字符的 ASCII 码。</p>
</li>
<li data-line="714" class="code-line">
<p data-line="714" class="code-line"><code>indexOf()</code> ：用法：</p>
<pre><code data-line="716" class="code-line language-js"><div>string_1.indexOf(string_2, n); 
</div></code></pre>
<p data-line="720" class="code-line">从字符串 <code>string_1</code> 的第 <code>n</code> 位开始搜索，查找 <code>string_2</code>，返回查找到的位置，如果未找到，则返回 <code>-1</code>，其中 <code>n</code> 可以不填，默认从第 <code>0</code> 位开始查找。</p>
</li>
<li data-line="722" class="code-line">
<p data-line="722" class="code-line"><code>lastIndexOf()</code> ：跟 <code>indexOf()</code> 相似，不过是从后边开始找。</p>
</li>
<li data-line="724" class="code-line">
<p data-line="724" class="code-line"><code>split('分隔符')</code> ：将字符串按照指定的分隔符分离开，返回一个数组，例如：</p>
</li>
</ul>
<pre><code data-line="726" class="code-line language-js"><div><span class="hljs-string">'1&amp;2&amp;345&amp;678'</span>.split(<span class="hljs-string">'&amp;'</span>)； <span class="hljs-comment">// → [1, 2, 345, 678]</span>
</div></code></pre>
<ul>
<li data-line="730" class="code-line">
<p data-line="730" class="code-line"><code>substring(n, m)</code> ：返回原字符串从 n 位置到 m 位置的子串。</p>
</li>
<li data-line="732" class="code-line">
<p data-line="732" class="code-line"><code>substr(n, x)</code> ：返回原字符串从 n 位置开始，长度为 x 的子串。</p>
</li>
<li data-line="734" class="code-line">
<p data-line="734" class="code-line"><code>toLowerCase()</code> ：返回把原字符串所有大写字母都变成小写的字符串。</p>
</li>
<li data-line="736" class="code-line">
<p data-line="736" class="code-line"><code>toUpperCase()</code> ：返回把原字符串所有小写字母都变成大写的字符串。</p>
</li>
</ul>
<h4 id="math-%E5%AF%B9%E8%B1%A1" data-line="738" class="code-line">Math 对象</h4>
<p data-line="740" class="code-line">“数学”对象，提供对数据的数学计算。</p>
<h5 id="math-%E7%9A%84%E5%B1%9E%E6%80%A7" data-line="742" class="code-line">Math 的属性</h5>
<p data-line="744" class="code-line">Math 的几个属性，是数学上几个常用的值：</p>
<ul>
<li data-line="746" class="code-line">E ：返回常数 e (2.718281828...)。</li>
<li data-line="747" class="code-line">LN2 ：返回 2 的自然对数 (ln 2)。</li>
<li data-line="748" class="code-line">LN10 ：返回 10 的自然对数 (ln 10)。</li>
<li data-line="749" class="code-line">LOG2E ：返回以 2 为低的 e 的对数 (log2e)。</li>
<li data-line="750" class="code-line">LOG10E ：返回以 10 为低的 e 的对数 (log10e)。</li>
<li data-line="751" class="code-line">PI ：返回π（3.1415926535...)。</li>
<li data-line="752" class="code-line">SQRT1_2 ：返回 1/2 的平方根。</li>
<li data-line="753" class="code-line">SQRT2 ：返回 2 的平方根。</li>
</ul>
<h4 id="math-%E7%9A%84%E6%96%B9%E6%B3%95" data-line="755" class="code-line">Math 的方法</h4>
<p data-line="757" class="code-line">Math 的内置方法，是一些数学上常用的数学运算：</p>
<ul>
<li data-line="759" class="code-line">abs(x) ：返回 x 的绝对值。</li>
<li data-line="760" class="code-line">round(x) ：返回 x 四舍五入后的值。</li>
<li data-line="761" class="code-line">sqrt(x) ：返回 x 的平方根。</li>
</ul>
<hr />
<ul>
<li data-line="765" class="code-line">ceil(x) ：返回大于等于 x 的最小整数。</li>
<li data-line="766" class="code-line">floor(x) ：返回小于等于 x 的最大整数。</li>
</ul>
<hr />
<ul>
<li data-line="770" class="code-line">sin(x) ：返回 x 的正弦。</li>
<li data-line="771" class="code-line">cos(x) ：返回 x 的余弦。</li>
<li data-line="772" class="code-line">tan(x) ：返回 x 的正切。</li>
<li data-line="773" class="code-line">acos(x) ：返回 x 的反余弦值。</li>
<li data-line="774" class="code-line">asin(x) ：返回 x 的反正弦值。</li>
<li data-line="775" class="code-line">atan(x) ：返回 x 的反正切值。</li>
</ul>
<hr />
<ul>
<li data-line="779" class="code-line">exp(x) ：返回 e 的 x 次幂 (e^x)。</li>
<li data-line="780" class="code-line">pow(n, m) ：返回 n 的 m 次幂 (nm)。</li>
<li data-line="781" class="code-line">log(x) ：返回 x 的自然对数 (ln x)。</li>
</ul>
<hr />
<ul>
<li data-line="785" class="code-line">max(a, b) ：返回 a, b 中较大的数。</li>
<li data-line="786" class="code-line">min(a, b) ：返回 a, b 中较小的数。</li>
<li data-line="787" class="code-line">random() ：返回大于 0 小于 1 的一个随机数。</li>
</ul>
<h4 id="array-%E6%95%B0%E7%BB%84%E5%AF%B9%E8%B1%A1" data-line="789" class="code-line">Array 数组对象</h4>
<p data-line="791" class="code-line">数组对象是对象的集合，里边的对象可以是不同类型的。数组的每一个成员对象都有一个“下标”，用来表示它在数组中的位置（从 0 开始计数）。</p>
<p data-line="793" class="code-line">数组下标表示方法是用方括号括起来，比如：</p>
<pre><code data-line="795" class="code-line language-js"><div>myArray[<span class="hljs-number">2</span>]=<span class="hljs-string">"hello"</span> 
</div></code></pre>
<p data-line="799" class="code-line">注意：JavaScript只有一维数组，要使用多维数组，请用这种虚拟法：</p>
<pre><code data-line="801" class="code-line language-js"><div><span class="hljs-keyword">var</span> myArray = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(), 
                        <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(),
                        <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(),
                        ...); 
</div></code></pre>
<p data-line="808" class="code-line">其实这是一个一维数组，里边的每一个元素又是一个数组。调用这个“二维数组”的元素时：</p>
<pre><code data-line="810" class="code-line language-js"><div>myArray[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>] = ...; 
</div></code></pre>
<h5 id="array-%E7%9A%84%E5%B1%9E%E6%80%A7" data-line="814" class="code-line">Array 的属性</h5>
<p data-line="816" class="code-line"><code>length</code> ：返回数组的长度，即数组里有多少个元素。它等于数组里最后一个元素的下标加一。</p>
<p data-line="818" class="code-line">因此，想添加一个元素，只需要：</p>
<pre><code data-line="820" class="code-line language-js"><div>myArray[myArray.length] = ...;
</div></code></pre>
<p data-line="824" class="code-line">（我去。。。）</p>
<h5 id="array-%E7%9A%84%E6%96%B9%E6%B3%95" data-line="826" class="code-line">Array 的方法</h5>
<ul>
<li data-line="828" class="code-line"><code>join(&quot;指定分隔符&quot;)</code> ：返回一个字符串，把数组元素串起来，元素间用指定分隔符隔开。</li>
<li data-line="829" class="code-line"><code>toString()</code> ：把数组转为字符串，并返回结果。</li>
<li data-line="830" class="code-line"><code>reverse()</code> ：使数组元素倒序。</li>
<li data-line="831" class="code-line"><code>slice(n, m)</code> ：返回子数组，从数组第 n 个元素到第 m 个元素。</li>
<li data-line="832" class="code-line"><code>sort(SortFunction)</code> ：按照指定的 SortFunction 将数组的元素排序。</li>
<li data-line="833" class="code-line"><code>concat(Array_1, Array_2)</code> ：用于连接两个或多个数组。</li>
</ul>
<h3 id="e4bd9ce4b89a-3" data-line="835" class="code-line">作业</h3>
<p data-line="837" class="code-line">创建一个名为“car”的对象，表示汽车，根据生活经验为这个对象添加 <strong>尽可能完善的</strong> 属性和方法。</p>
<pre><code data-line="839" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
      alert(<span class="hljs-string">"running"</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">car</span><span class="hljs-params">(name, speed)</span> </span>{
      <span class="hljs-keyword">this</span>.name = name;
      <span class="hljs-keyword">this</span>.speed = speed;
      <span class="hljs-keyword">this</span>.run = run(); <span class="hljs-comment">//notice this!</span>
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"new_car = new car('Runner', 500); new_car.run();"</span>&gt;</span>Build a car<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"new_car.run();"</span>&gt;</span>Run<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="863" class="code-line">运行结果：</p>
<p data-line="865" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824151753108.gif" alt="set w250" class="loading" id="image-hash-692404416" /></p>
<p data-line="867" class="code-line">从运行结果中可以看出：</p>
<ol>
<li data-line="869" class="code-line">定义对象的方法的时候，函数要加上括号（WTF？）</li>
<li data-line="870" class="code-line">如果在一个按钮里创造了一个对象的实例，这个实例只在这个按钮里有效（Run 按钮不起作用）</li>
</ol>
<h2 id="dom" data-line="872" class="code-line">DOM</h2>
<p data-line="874" class="code-line">本节 JavaScript 的 DOM 操作，内容主要包括：</p>
<ul>
<li data-line="876" class="code-line">通过 ID、名字、标签名 选取元素；</li>
<li data-line="877" class="code-line">通过 <code>getAttribute</code> 和 <code>setAttribute</code> 获取和设置元素属性；</li>
<li data-line="878" class="code-line">通过 <code>parentNode</code> 获取父元素、<code>createElement</code> 动态地创建节点、<code>appendChild</code> 和 <code>removeChild</code> 动态地添加或者删除节点。</li>
</ul>
<h3 id="%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" data-line="880" class="code-line">基本概念</h3>
<h4 id="%E4%BB%80%E4%B9%88%E6%98%AF-dom" data-line="882" class="code-line">什么是 DOM</h4>
<p data-line="884" class="code-line">DOM 是 <strong>文档对象模型</strong>（Document Object Model）的简称，它的基本思想是把结构化文档（比如 HTML 和 XML）解析成一系列的节点，再由这些节点组成一个树状结构（DOM Tree）。所有的节点和最终的树状结构，都有规范的对外接口，以达到使用编程语言操作文档的目的，所以，DOM 可以理解成文档（HTML 文档、XML 文档）的编程接口。</p>
<p data-line="886" class="code-line">严格地说，DOM 不属于 JavaScript，但是操作 DOM 是 JavaScript 最常见的任务，而 JavaScript 也是最常用于 DOM 操作的语言，本章介绍的就是 JavaScript 对 DOM 标准的实现和用法。</p>
<h4 id="%E8%8A%82%E7%82%B9" data-line="888" class="code-line">节点</h4>
<p data-line="890" class="code-line">DOM 的最小组成单位叫做 <strong>节点</strong>（node），一个文档的树形结构（DOM 树），就是由各种不同类型的节点组成。</p>
<p data-line="892" class="code-line">对于 HTML 文档，节点主要有以下六种类型：</p>
<p data-line="894" class="code-line">==</p>
<table>
<thead>
<tr>
<th>节点</th>
<th>名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>Document</td>
<td>文档节点</td>
<td>文档的类型</td>
</tr>
<tr>
<td>Element</td>
<td>元素节点</td>
<td>HTML 元素（比如<head>、<body>等）&lt;/td&gt;
&lt;/tr&gt;
<tr>
<td>Attribute</td>
<td>属性节点</td>
<td>HTML 元素的属性（比如 class=&quot;right&quot;）</td>
</tr>
<tr>
<td>Text</td>
<td>文本节点</td>
<td>HTML 文档中出现的文本</td>
</tr>
<tr>
<td>DocumentFragment</td>
<td>文档碎片节点</td>
<td>文档的片段</td>
</tr>
&lt;/tbody&gt;
&lt;/table&gt;
<p data-line="902" class="code-line">==</p>
<h3 id="%E9%80%89%E5%8F%96%E6%96%87%E6%A1%A3%E5%85%83%E7%B4%A0" data-line="904" class="code-line">选取文档元素</h3>
<h4 id="%E9%80%9A%E8%BF%87-id-%E9%80%89%E5%8F%96%E5%85%83%E7%B4%A0" data-line="906" class="code-line">通过 ID 选取元素</h4>
<p data-line="908" class="code-line">我们可以使用方法 <code>getElementByID()</code> 通过元素的 ID 而选取元素，并对其做操作，比如：</p>
<pre><code data-line="910" class="code-line language-js"><div><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"my_div"</span>).style.height=<span class="hljs-string">"100px"</span>;  <span class="hljs-comment">// 设置 my_div 高度为 100px    </span>
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"my_div"</span>).style.background=<span class="hljs-string">"red"</span>;
</div></code></pre>
<p data-line="915" class="code-line">通过 <code>getElementByID()</code> 设置了 ID 为 <code>my_div</code> 的一个 <code>div</code> 标签的高度（100px）和颜色（red），效果：</p>
<p data-line="917" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824625618952.jpg" alt="set w250" class="loading" id="image-hash-2143454110" /></p>
<h4 id="%E9%80%9A%E8%BF%87%E5%90%8D%E5%AD%97name%E6%88%96%E6%A0%87%E7%AD%BE%E5%90%8Dtagname%E9%80%89%E5%8F%96%E5%85%83%E7%B4%A0" data-line="919" class="code-line">通过名字（Name）或标签名（TagName）选取元素</h4>
<p data-line="921" class="code-line">除了通过 ID 选择元素，我们还可以使用 getElementByName() 方法或者 getElementsByTagName() 方法找到元素，不过如果有多个同类型标签，那我们需要以下标来确认：</p>
<pre><code data-line="923" class="code-line language-js"><div><span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"input"</span>)[<span class="hljs-number">0</span>].value=<span class="hljs-string">"hello"</span>;   <span class="hljs-comment">// 下标为 [0] 表示选取第 1 个 input 标签</span>
<span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"input"</span>)[<span class="hljs-number">1</span>].value=<span class="hljs-string">"shiyanlou"</span>; <span class="hljs-comment">// 下标为 [1] 表示选取第 2 个 input 标签</span>
</div></code></pre>
<p data-line="928" class="code-line">效果如图：</p>
<p data-line="930" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824629669268.jpg" alt="set w350" class="loading" id="image-hash--1337299612" /></p>
<h3 id="%E8%8A%82%E7%82%B9%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C%E5%92%8C%E6%96%87%E6%A1%A3%E9%81%8D%E5%8E%86" data-line="932" class="code-line">节点、属性操作和文档遍历</h3>
<h4 id="%E6%9F%A5%E8%AF%A2%E5%92%8C%E8%AE%BE%E7%BD%AE%E5%85%83%E7%B4%A0%E7%9A%84%E5%B1%9E%E6%80%A7" data-line="934" class="code-line">查询和设置元素的属性</h4>
<p data-line="936" class="code-line">可以通过 <code>getAttribute()</code> 和 <code>setAttribute()</code> 查询和设置元素的属性：</p>
<pre><code data-line="938" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-class">.class_1</span> {<span class="hljs-attribute">color</span>: red;}
    <span class="hljs-selector-class">.class_2</span> {<span class="hljs-attribute">color</span>: blue;}
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">'div_1'</span> <span class="hljs-attr">class</span>=<span class="hljs-string">'class_1'</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>before:<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-built_in">document</span>.write(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'div_1'</span>).getAttribute(<span class="hljs-string">'class'</span>));
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span>after:<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'div_1'</span>).setAttribute(<span class="hljs-string">'class'</span>, <span class="hljs-string">'class_2'</span>);
      <span class="hljs-built_in">document</span>.write(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'div_1'</span>).getAttribute(<span class="hljs-string">'class'</span>));
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="964" class="code-line">运行结果：</p>
<p data-line="966" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824640171162.jpg" alt="set w200" class="loading" id="image-hash--566986368" /></p>
<h4 id="%E7%88%B6%E8%8A%82%E7%82%B9" data-line="968" class="code-line">父节点</h4>
<p data-line="970" class="code-line">通过 <code>parentNode()</code> 方法可以查看并操作一个节点的父节点，示例：找到 <code>id</code> 为 <code>demo</code> 的元素的父节点，并输出其 <code>class</code> 的名称：</p>
<pre><code data-line="972" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"demo-parent"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"demo"</span>&gt;</span>        
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-built_in">document</span>.write(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"demo"</span>).parentNode.getAttribute(<span class="hljs-string">"class"</span>));
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="987" class="code-line">运行结果：</p>
<p data-line="989" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824642445480.jpg" alt="set w200" class="loading" id="image-hash-1771162839" /></p>
<h4 id="%E5%88%9B%E5%BB%BA%E5%92%8C%E6%8F%92%E5%85%A5%E8%8A%82%E7%82%B9" data-line="991" class="code-line">创建和插入节点</h4>
<p data-line="993" class="code-line">在了解 JavaScript 之前，可能会以为一个 HTML 页面被写出来是什么样，那它就固定了是什么样子。</p>
<p data-line="995" class="code-line">但是 JavaScript 可以动态地在页面中创建并插入节点，这便需要用到 <code>createElement()</code>、<code>appendChild()</code> 方法，它们的作用分别是创建节点和插入节点。</p>
<p data-line="997" class="code-line">比如：创建一个 div 并为其设置高度（100px）和背景色（red），并追加到 body 后面：</p>
<pre><code data-line="999" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">stype</span>=<span class="hljs-string">'background:lightgreen;height=100px;'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">var</span> mydiv = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
    mydiv.style.height = <span class="hljs-string">'100px'</span>;
    mydiv.style.background = <span class="hljs-string">'lightblue'</span>;
    <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'body'</span>)[<span class="hljs-number">0</span>].appendChild(mydiv);
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="1013" class="code-line">运行结果</p>
<p data-line="1015" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824649963616.jpg" alt="set w200" class="loading" id="image-hash--130580180" /></p>
<h4 id="%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9" data-line="1017" class="code-line">删除节点</h4>
<p data-line="1019" class="code-line">除了创建，我们还可以删除一个节点，通过 <code>removeChild()</code> 方法：</p>
<pre><code data-line="1021" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">'div_green'</span> <span class="hljs-attr">style</span>=<span class="hljs-string">'background:lightgreen; height:50px;'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">'div_blue'</span> <span class="hljs-attr">style</span>=<span class="hljs-string">'background:lightblue; height:50px;'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">remove</span>(<span class="hljs-params"></span>)</span>{
      <span class="hljs-keyword">var</span> obj=<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'div_green'</span>);
      obj.parentNode.removeChild(obj);
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">'remove()'</span>&gt;</span>click to remove<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="1039" class="code-line">运行结果：</p>
<p data-line="1041" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824656214787.gif" alt="set w200" class="loading" id="image-hash-1453992775" /></p>
<h3 id="e4bd9ce4b89a-4" data-line="1043" class="code-line">作业</h3>
<p data-line="1045" class="code-line">参考“删除节点”的方式，在一个页面内实现：通过按钮改变页面颜色，通过按钮创建和插入节点等本节实验中的功能。</p>
<pre><code data-line="1047" class="code-line language-html"><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create_bar</span>(<span class="hljs-params"></span>)</span>{
            <span class="hljs-keyword">var</span> root = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'div_root'</span>);
            <span class="hljs-keyword">var</span> child = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
            <span class="hljs-keyword">var</span> colors = <span class="hljs-built_in">Array</span>(<span class="hljs-string">'lightgreen'</span>, <span class="hljs-string">'lightblue'</span>, <span class="hljs-string">'lightgrey'</span>, <span class="hljs-string">'tomato'</span>);
            <span class="hljs-keyword">var</span> index = <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">Math</span>.random() * (colors.length - <span class="hljs-number">1</span>));
            child.style.background = colors[index];
            child.style.height = <span class="hljs-string">'10px'</span>;
            root.appendChild(child);
        }
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">change_color</span>(<span class="hljs-params"></span>)</span>{
            <span class="hljs-keyword">var</span> colors = <span class="hljs-built_in">Array</span>(<span class="hljs-string">'lightgreen'</span>, <span class="hljs-string">'lightblue'</span>, <span class="hljs-string">'lightgrey'</span>, <span class="hljs-string">'tomato'</span>);
            <span class="hljs-keyword">var</span> root = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'div_root'</span>);
            <span class="hljs-keyword">for</span> (child_index <span class="hljs-keyword">in</span> root.children) {
                <span class="hljs-keyword">var</span> index = <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">Math</span>.random() * (colors.length - <span class="hljs-number">1</span>));
                root.children[child_index].style.background = colors[index];
            }
            alert(<span class="hljs-string">"fine!"</span>);
        }
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delete_bar</span>(<span class="hljs-params"></span>)</span>{
            <span class="hljs-keyword">var</span> root = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'div_root'</span>);
            root.removeChild(root.lastChild);
        }
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delete_all</span>(<span class="hljs-params"></span>)</span>{
            <span class="hljs-keyword">var</span> root = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'div_root'</span>);
            <span class="hljs-keyword">while</span> (root.childElementCount != <span class="hljs-number">0</span>){
                root.removeChild(root.children[<span class="hljs-number">0</span>]);
            }
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">'div_root'</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">'create_bar()'</span>&gt;</span>Create Bar<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">'change_color()'</span>&gt;</span>Change Color<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">'delete_bar()'</span>&gt;</span>Delete Bar<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">'delete_all()'</span>&gt;</span>Clean<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<p data-line="1091" class="code-line">运行结果：</p>
<p data-line="1093" class="code-line"><img src="/Users/yushi/Dropbox/Ivan/build_blog/assets/images/js_intro/14824755476197.gif" alt="set w300" class="loading" id="image-hash--1501050334" /></p>

</body>&lt;/html&gt;
&lt;/div&gt;


</head></td></tr></tbody></table></body></html></div>

    </div>

  </body>

</html>
